
-------------------------------TABLA CONGRESO
CREATE TABLE CONGRESO(
CONID INT NOT NULL,
CONNOMBRE NVARCHAR (40),
CONDESCRIPCION NVARCHAR (40),
CONFECHAINI DATE,
CONFECHAFIN DATE,
CONLUGAR NVARCHAR (40)
)
GO
SELECT*FROM CONGRESO
------------------------------TABLA REGISTRO
GO

CREATE TABLE REGISTRO(
FOLIO INT NOT NULL,
FECHA DATE,
ESTID INT,
CONID INT
)
GO
SELECT*FROM REGISTRO
-----------------------------TABLA ESTUDIANTES
GO

CREATE TABLE ESTUDIANTES(
ESTID INT NOT NULL,
ESTNOMBRE NVARCHAR (40),
ESTAPELLIDOS NVARCHAR (40),
ESTDOMICILIO NVARCHAR (40),
ESTCORREO NVARCHAR (60),
ESTCELULAR INT,
ESCID INT
)
GO
SELECT*FROM ESTUDIANTES
----------------------------TABLA ESCUELAS

CREATE TABLE ESCUELAS(
ESCID INT NOT NULL,
ESCNOMBRE NVARCHAR(40),
ESCDOMICILIO NVARCHAR (40),
MUNID INT
)
GO
SELECT*FROM ESCUELAS
---------------------------TABLA MUNICIPIOS
GO

CREATE TABLE MUNICIPIOS(
MUNID INT NOT NULL,
MUNNOMBRE NVARCHAR(40)
)
GO
SELECT*FROM MUNICIPIOS
-------------------------TABLA EVENTOS
GO

CREATE TABLE EVENTOS(
EVEID INT NOT NULL,
EVENOMBRE NVARCHAR(40),
EVEDESCRIPCION NVARCHAR (40),
EVEFECHA DATE,
EVELUGAR NVARCHAR (40),
EVECOSTO INT,
EXPID INT
)
GO
SELECT*FROM EVENTOS
------------------------TABLA EXPOSITORES
GO

CREATE TABLE EXPOSITORES(
EXPID INT NOT NULL,
EXPNOMBRE NVARCHAR (40),
EXPAPELLIDOS NVARCHAR (40),
EXPCORREO NVARCHAR (60),
EXPCELULAR INT
)
GO
SELECT*FROM EXPOSITORES
GO
-----------------------TABLA EVENTOSXREGISTRO

CREATE TABLE EVENTOXREG(
FOLIO INT NOT NULL,
EVEID INT NOT NULL
)
GO
SELECT*FROM EVENTOXREG
GO


----------------------PRIMARY KEYS
ALTER TABLE CONGRESO	ADD CONSTRAINT PK_CONGRESO	  PRIMARY KEY(CONID)
GO
ALTER TABLE REGISTRO	ADD CONSTRAINT PK_REGISTRO	  PRIMARY KEY(FOLIO)
GO
ALTER TABLE ESTUDIANTES	ADD CONSTRAINT PK_ESTUDIANTES	  PRIMARY KEY(ESTID)
GO
ALTER TABLE ESCUELAS	ADD CONSTRAINT PK_ESCUELAS	  PRIMARY KEY(ESCID)
GO
ALTER TABLE MUNICIPIOS	ADD CONSTRAINT PK_MUNICIPIOS	  PRIMARY KEY(MUNID)
GO
ALTER TABLE EVENTOS	ADD CONSTRAINT PK_EVENTOS   PRIMARY KEY(EVEID)
GO
ALTER TABLE EXPOSITORES	ADD CONSTRAINT PK_EXPOSITORES	  PRIMARY KEY(EXPID)
GO

---------------------FOREIG KEYS
ALTER TABLE REGISTRO ADD 
CONSTRAINT FK_REGISTRO_CONGRESO FOREIGN KEY(CONID) REFERENCES CONGRESO(CONID),
CONSTRAINT FK_REGISTRO_ESTUDIANTES FOREIGN KEY(ESTID) REFERENCES ESTUDIANTES(ESTID)
GO
ALTER TABLE ESTUDIANTES ADD 
CONSTRAINT FK_ESCUELAS_ESTUDIANTES FOREIGN KEY(ESCID) REFERENCES ESCUELAS(ESCID)
GO
ALTER TABLE ESCUELAS ADD 
CONSTRAINT FK_ESCUELAS_MUNICIPIOS FOREIGN KEY(MUNID) REFERENCES MUNICIPIOS(MUNID)
GO
ALTER TABLE EVENTOXREG ADD 
CONSTRAINT FK_EVENTOXREG_REGISTRO FOREIGN KEY(FOLIO) REFERENCES REGISTRO(FOLIO),
CONSTRAINT FK_EVENTOXREG_EVENTOS FOREIGN KEY(EVEID) REFERENCES EVENTOS(EVEID),

GO
ALTER TABLE EVENTOS ADD 
CONSTRAINT FK_EVENTOS_EXPOSITORES FOREIGN KEY(EXPID) REFERENCES EXPOSITORES(EXPID)
GO

----------------------CHECK CONSTRAINT -- (VALIDACIONES)
ALTER TABLE CONGRESO ADD
CONSTRAINT CC_FECHA_CONGRESO CHECK(CONFECHAINI < CONFECHAFIN),
CONSTRAINT CC_FECHA_INICIO CHECK(CONFECHAINI > '2018/01/01')
GO
ALTER TABLE EVENTOS ADD
CONSTRAINT CC_FECHA_EVENTOS CHECK(EVEFECHA > '2018/01/01'),
CONSTRAINT CC_COSTO CHECK(EVECOSTO > 0)
GO
ALTER TABLE REGISTRO ADD
CONSTRAINT CC_FECHA_REGISTRO CHECK(FECHA > '2018/01/01')
GO
----------------------INSERCIONES TABLA CONGRESO
INSERT INTO CONGRESO VALUES(111,'Futuro proximo','Nuevo ingreso','09/10/2022','09/15/2022','Mazatlan');
GO
INSERT INTO CONGRESO VALUES(112,'Mercados','Compra y venta','10/05/2022','10/10/2022','Ciudad de mexico');
GO
INSERT INTO CONGRESO VALUES(113,'Filosofia','Reflexion','11/18/2022','11/23/2022','Puebla');
GO
INSERT INTO CONGRESO VALUES(114,'Comunicadores','Medios para hablar','12/24/2022','12/29/2022','Monterrey');
GO
INSERT INTO CONGRESO VALUES(115,'Google y Microsoft','Tecnologias njuevas','09/17/2022','09/22/2022','Guadalajara');
GO
--------------------INSERCIONES TABLA REGISTRO
INSERT INTO REGISTRO VALUES(100,'05/05/2022',200,111);
GO
INSERT INTO REGISTRO VALUES(122,'06/05/2022',201,112);
GO
INSERT INTO REGISTRO VALUES(153,'07/05/2022',202,113);
GO
INSERT INTO REGISTRO VALUES(164,'08/05/2022',203,114);
GO
INSERT INTO REGISTRO VALUES(195,'09/05/2022',204,115);
GO
--------------------INSERCIONES TABLA ESTUDIANTES
INSERT INTO ESTUDIANTES VALUES(200,'Paco','Ramirez Obeso','Conquista 2 #8291','paco43@hotmail.com',667289567,502);
GO
INSERT INTO ESTUDIANTES VALUES(201,'Maria','Cazares Ayon','Prados del sol #6789','Mari02@hotmail.com',667356743,502);
GO
INSERT INTO ESTUDIANTES VALUES(202,'Jesus','Gastelum Rios','Huizaches #4532','jesusAd1@hotmail.com',667405840,503);
GO
INSERT INTO ESTUDIANTES VALUES(203,'Sebastian','Aldama Rendon','Tres rios 2 #5213','sebass29@hotmail.com',667920482,504);
GO
INSERT INTO ESTUDIANTES VALUES(204,'Susana','Garibaldi Gomez','Santa Elena #1232','susiG34@hotmail.com',667289567,505);
GO
--------------------INSERCIONES TABLA ESCUELAS
INSERT INTO ESCUELAS VALUES (501,'Manuel Alberto','Infonavit solidaridad #452',1);
GO
INSERT INTO ESCUELAS VALUES (502,'Pedro Infante','Santa Fe #232',2);
GO
INSERT INTO ESCUELAS VALUES (503,'Miguel Hidalgo','Zona Centro #123',3);
GO
INSERT INTO ESCUELAS VALUES (504,'Benito Juarez','4 de Marzo #981',4);
GO
INSERT INTO ESCUELAS VALUES (505,'Margatita Lopez','Villas del cedro #242',5);
GO
--------------------INSERCIONES TABLA DE MUNICIPIOS
INSERT INTO MUNICIPIOS VALUES(1,'Culiacan');
GO
INSERT INTO MUNICIPIOS VALUES(2,'Elota');
GO
INSERT INTO MUNICIPIOS VALUES(3,'Mazatlan');
GO
INSERT INTO MUNICIPIOS VALUES(4,'Mocorito');
GO
INSERT INTO MUNICIPIOS VALUES(5,'Navolato');
GO
---------------------INSERCIONES TABLA EVENTOS
INSERT INTO EVENTOS VALUES(430,'Fiesta Bienvenida','Ropa casual','09/10/2022','Clasico',150,001);
GO
INSERT INTO EVENTOS VALUES(431,'Conferencia','Comunicaciones','09/11/2022','Clasico',100,002);
GO
INSERT INTO EVENTOS VALUES(432,'Tour guiado','Zoologico el mar','09/12/2022','Clasico',250,003);
GO
INSERT INTO EVENTOS VALUES(433,'Conferencia','Inversionista','09/13/2022','Clasico',100,004);
GO
INSERT INTO EVENTOS VALUES(434,'Fiesta de clausura','Ropa de gala','09/14/2022','Clasico',150,005);
GO
--------------------INSERCIONES TABLA EXPOSITORES
INSERT INTO EXPOSITORES VALUES(001,'Gilberto','Palazuelos Herrera','gil09@hotmail.com',667890353);
GO
INSERT INTO EXPOSITORES VALUES(002,'Ursula','Gallegos Sanchez','Ursu2@hotmail.com',667145679);
GO
INSERT INTO EXPOSITORES VALUES(003,'Pedro','Sanchez Corral','pedri45@hotmail.com',667265794);
GO
INSERT INTO EXPOSITORES VALUES(004,'Lupita','Ramirez Osuna','lupe9@hotmail.com',667938592);
GO
INSERT INTO EXPOSITORES VALUES(005,'Ramses','Aldama Cazares','ramchu10@hotmail.com',667890353);
GO
---------------------INSERCIONES TABLA EVENTOXTREG
INSERT INTO EVENTOXREG VALUES(100,430);
GO
INSERT INTO EVENTOXREG VALUES(122,431);
GO
INSERT INTO EVENTOXREG VALUES(153,432);
GO
INSERT INTO EVENTOXREG VALUES(164,433);
GO
INSERT INTO EVENTOXREG VALUES(195,434);
GO